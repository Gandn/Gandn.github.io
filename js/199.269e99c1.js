"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[199],{5533:function(t,e,s){s.d(e,{Z:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"selection-component"},[e("div",{staticClass:"selection-show",on:{click:function(e){return e.stopPropagation(),t.toggleDrop.apply(null,arguments)}}},[e("span",[t._v(" "+t._s(t.selections[t.nowIndex].label)+" ")]),e("div",{staticClass:"arrow"})]),t.isDrop?e("div",{staticClass:"selection-list"},[e("ul",t._l(t.selections,(function(s,a){return e("li",{on:{click:function(e){return t.chooseSelection(a)}}},[t._v(" "+t._s(s.label)+" ")])})),0)]):t._e()])},n=[],r=s(7123),i={props:{selections:{type:Array,default:[{label:"text",value:0}]}},data(){return{isDrop:!1,nowIndex:0}},methods:{toggleDrop(){this.isDrop=!this.isDrop},chooseSelection(t){this.nowIndex=t,this.$emit("on-change",this.selections[this.nowIndex])}},mounted(){r.Y.$on("reset-select",(()=>{this.isDrop=!1}))}},o=i,l=s(1001),c=(0,l.Z)(o,a,n,!1,null,"21ee3866",null),u=c.exports},5199:function(t,e,s){s.r(e),s.d(e,{default:function(){return y}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"order-wrap"},[e("div",{staticClass:"order-list-choose"},[e("div",{staticClass:"order-list-option"},[t._v(" 选择产品： "),e("v-selection",{attrs:{selections:t.products},on:{"on-change":t.productchange}})],1),e("div",{staticClass:"order-list-option"},[t._v(" 开始日期： "),e("datepicker",{on:{"on-change":t.changeStartdate}})],1),e("div",{staticClass:"order-list-option"},[t._v(" 结束日期： "),e("datepicker",{on:{"on-change":t.changeEnddate}})],1),e("div",{staticClass:"order-list-option"},[t._v(" 关键词 "),e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.query,expression:"query",modifiers:{lazy:!0}}],staticClass:"order-query",attrs:{type:"text"},domProps:{value:t.query},on:{change:function(e){t.query=e.target.value}}})])]),e("div",{staticClass:"order-list-table"},[e("table",[e("tr",t._l(t.tableHeads,(function(s){return e("th",{class:{active:s.active},on:{click:function(e){return t.changeOrder(s)}}},[t._v(" "+t._s(s.label)+" ")])})),0),t._l(t.tableDate,(function(s){return e("tr",t._l(t.tableHeads,(function(a){return e("td",[t._v(" "+t._s(s[a.key])+" ")])})),0)}))],2),e("div")])])},n=[],r=s(5533),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"datetime-picker",style:{width:t.width}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.showValue,expression:"showValue"}],style:t.styleObj,attrs:{type:"text",readonly:t.readonly},domProps:{value:t.showValue},on:{click:function(e){t.show=!t.show},input:function(e){e.target.composing||(t.showValue=e.target.value)}}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"picker-wrap"},[e("table",{staticClass:"date-picker"},[e("thead",[e("tr",{staticClass:"date-head"},[e("th",{attrs:{colspan:"4"}},[e("span",{staticClass:"btn-prev",on:{click:function(e){return t.yearClick(-1)}}},[t._v("<")]),e("span",{staticClass:"show-year"},[t._v(t._s(t.now.getFullYear()))]),e("span",{staticClass:"btn-next",on:{click:function(e){return t.yearClick(1)}}},[t._v(">")])]),e("th",{attrs:{colspan:"3"}},[e("span",{staticClass:"btn-prev",on:{click:function(e){return t.monthClick(-1)}}},[t._v("<")]),e("span",{staticClass:"show-month"},[t._v(t._s(t.months[t.now.getMonth()]))]),e("span",{staticClass:"btn-next",on:{click:function(e){return t.monthClick(1)}}},[t._v(">")])])]),e("tr",{staticClass:"date-days"},t._l(t.days,(function(s){return e("th",[t._v(t._s(s))])})),0)]),e("tbody",t._l(6,(function(s){return e("tr",t._l(7,(function(a){return e("td",{class:t.date[7*s+a]&&t.date[7*s+a].status,attrs:{date:t.date[7*s+a]&&t.date[7*s+a].date},on:{click:function(e){return t.pickDate(7*s+a)}}},[t._v(t._s(t.date[7*s+a]&&t.date[7*s+a].text))])})),0)})),0)])])])},o=[],l=(s(7658),{props:{width:{type:String,default:"238px"},readonly:{type:Boolean,default:!1},value:{type:String,default:""},format:{type:String,default:"YYYY-MM-DD"},styleObj:{type:Object,default:null}},data(){return{show:!1,showValue:"",days:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],date:[],now:new Date}},watch:{now(){this.update()},show(){this.update()}},methods:{close(){this.show=!1},update(){var t=[],e=new Date(this.now);e.setMonth(e.getMonth(),1);var s=e.getDay();0===s&&(s=7),e.setDate(0);var a=e.getDate();for(let o=s;o>0;o--)t.push({text:a-o+1,time:new Date(e.getFullYear(),e.getMonth(),a-o+1),status:"date-pass"});e.setMonth(e.getMonth()+2,0);var n=e.getDate();e.setDate(1);var r=this.value||this.stringify(new Date);for(let o=0;o<n;o++){let s=new Date(e.getFullYear(),e.getMonth(),o+1),a="";this.stringify(s)===r&&(a="date-active"),t.push({text:o+1,time:s,status:a})}var i=1;while(t.length<42)t.push({text:i,time:new Date(e.getFullYear(),e.getMonth()+1,i),status:"date-future"}),i++;this.date=t},yearClick(t){this.now.setFullYear(this.now.getFullYear()+t),this.now=new Date(this.now)},monthClick(t){this.now.setMonth(this.now.getMonth()+t),this.now=new Date(this.now)},pickDate(t){this.show=!1,this.now=new Date(this.date[t].time),this.showValue=this.stringify(),this.$emit("on-change",this.showValue)},parse(t){var e=new Date(t);return isNaN(e.getTime())?null:e},stringify(t=this.now,e=this.format){var s=t.getFullYear(),a=t.getMonth()+1,n=t.getDate(),r=this.months[t.getMonth()],i={YYYY:s,MMM:r,MM:("0"+a).slice(-2),M:a,DD:("0"+n).slice(-2),D:n};return e.replace(/Y+|M+|D+/g,(function(t){return i[t]}))},leave(t){this.$el.contains(t.target)||this.close()}},mounted(){this.now=this.parse(this.value)||new Date,document.addEventListener("click",this.leave,!1)},beforeDestroy(){document.removeEventListener("click",this.leave,!1)}}),c=l,u=s(1001),h=(0,u.Z)(c,i,o,!1,null,"4022c7e6",null),d=h.exports,p=s(6486),v=s.n(p),g={components:{VSelection:r.Z,datepicker:d},data(){return{query:"",productId:0,starDate:"",endDate:"",currentOrder:"desc",total:0,pageSize:10,offser:0,products:[{label:"数据统计",value:0},{label:"数据预测",value:1},{label:"流量分析",value:2},{label:"广告发布",value:3}],tableHeads:[{label:"订单号",key:"orderId"},{label:"购买产品",key:"product"},{label:"版本类型",key:"version"},{label:"有效时间",key:"period"},{label:"购买日期",key:"date"},{label:"数量",key:"buyNum"},{label:"总价",key:"amount"}]}},watch:{query(){this.$store.dispatch("fetchOrderList")}},computed:{tableDate:{get(){return this.$store.getters.getOrderList},set(t){this.$store.commit("changePrderList",t)}}},methods:{productchange(t){this.$store.commit("updateParams",{key:"productId",val:t.value}),this.$store.dispatch("fetchOrderList")},changeStartdate(t){this.$store.commit("updateParams",{key:"starDate",val:t})},changeEnddate(t){this.$store.commit("updateParams",{key:"endDate",val:t})},getTableDate(){let t={query:this.query,productId:this.productId,endDate:this.endDate,starDate:this.starDate};this.$http.get("http://localhost:3000/getOrderList",t).then((t=>{this.tableDate=t.data.list,console.log(t)}))},changeOrder(t){this.tableHeads.map((t=>(t.active=!1,t))),console.log(t),t.active=!0,"desc"===this.currentOrder?this.currentOrder="asc":"asc"===this.currentOrder&&(this.currentOrder="desc"),console.log(this.tableDate),this.tableDate=v().orderBy(this.tableDate,t.key,this.currentOrder)}},mounted(){this.$store.dispatch("fetchOrderList")}},w=g,m=(0,u.Z)(w,a,n,!1,null,"284c820b",null),y=m.exports}}]);
//# sourceMappingURL=199.269e99c1.js.map